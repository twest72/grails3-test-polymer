<link rel="import" href="polymer/bower_components/iron-pages/iron-pages.html">

<dom-module id="contact-socket-page">
    <style>
        :host {
            display: block;
        }
    </style>
    <template>

        <iron-pages id="pages" selected="0">
            <contact-socket-list id="contactList" selected-id="{{selectedId}}" on-change-page="_changePage"></contact-socket-list>
            <contact-socket-form selected-id="{{selectedId}}" on-change-page="_changePage"></contact-socket-form>
        </iron-pages>
    </template>
</dom-module>
<script>
    var loadData = function () {
    };

    (function () {
        Polymer({
            is: 'contact-socket-page',

            ready: function () {
                //BUG https://github.com/PolymerElements/iron-pages/issues/3
                var p = this.$.pages;
                p.activateEvent = '';
            },

            properties: {
                selectedId: {
                    type: Number,
                    value: undefined,
                    notify: true
                }
            },

            _changePage: function (event, newPage) {
                this.$.pages.select(newPage);
                if(newPage == 0) {
                    this.$.contactList.loadData();
                }
            }
        });
    })();
</script>
